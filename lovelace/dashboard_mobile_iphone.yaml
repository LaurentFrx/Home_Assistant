title: Mobile iPhone
icon: mdi:cellphone

views:
  # ========================================
  # VUE 0 : ACCUEIL
  # ========================================
  - title: Accueil
    path: accueil
    icon: mdi:home
    panel: false
    cards:
      # === Afficheur heure & SOS ===
      - type: custom:mod-card
        style: |
          ha-card {
            background: transparent !important;
            box-shadow: none !important;
            border: none !important;
            position: fixed;
            left: 50%;
            top: 12px;
            transform: translateX(-50%);
            width: calc(100% - 32px);
            max-width: 500px;
            z-index: 999;
          }
        card:
          type: horizontal-stack
          cards:
            # Bouton param√®tres
            - type: custom:button-card
              icon: mdi:cog
              show_name: false
              tap_action:
                action: navigate
                navigation_path: /lovelace-mobile-iphone/parametres
              styles:
                card:
                  - background: rgba(60, 60, 60, 0.4)
                  - border-radius: 30px
                  - padding: 10px
                  - backdrop-filter: blur(12px)
                  - -webkit-backdrop-filter: blur(12px)
                  - box-shadow: 2px 3px 7px rgba(0, 0, 0, 0.6)
                  - border: none
                  - width: 50px
                  - height: 50px
                icon:
                  - color: rgb(200, 200, 200)
                  - width: 22px

            # Spacer
            - type: custom:button-card
              color_type: blank-card
              styles:
                card:
                  - background: none
                  - box-shadow: none
                  - border: none

            # Horloge centrale
            - type: clock
              show_seconds: false
              card_mod:
                style: |
                  ha-card {
                    background: transparent !important;
                    box-shadow: none !important;
                    border: none !important;
                    color: rgb(255, 255, 255);
                    font-size: 1.2em;
                    font-weight: 600;
                    text-align: center;
                  }

            # Spacer
            - type: custom:button-card
              color_type: blank-card
              styles:
                card:
                  - background: none
                  - box-shadow: none
                  - border: none

            # Bouton SOS
            - type: custom:button-card
              show_name: true
              name: "(( SOS ))"
              tap_action:
                action: navigate
                navigation_path: /lovelace-mobile-iphone/urgence
              styles:
                card:
                  - background-color: rgba(255, 0, 0, 0.4)
                  - border-radius: 40px
                  - padding: 8px 12px
                  - backdrop-filter: blur(5px)
                  - box-shadow: 2px 2px 9px rgba(0,0,0,0.8)
                  - width: fit-content
                  - height: 50px
                name:
                  - font-size: 12px
                  - color: white
                  - font-weight: 700

      # === Spacer pour √©viter chevauchement header ===
      - type: custom:mod-card
        style: |
          ha-card {
            height: 70px;
            background: none !important;
            box-shadow: none !important;
            border: none !important;
          }
        card:
          type: markdown
          content: " "

      # === M√©t√©o ===
      - type: custom:mod-card
        style: |
          ha-card {
            background: rgba(60, 60, 60, 0.4) !important;
            border-radius: 30px !important;
            padding: 16px !important;
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            box-shadow: 2px 3px 7px rgba(0, 0, 0, 0.6);
            border: 1px solid rgba(170, 170, 170, 0.2) !important;
          }
        card:
          type: vertical-stack
          cards:
            - type: markdown
              content: |
                ### üå§Ô∏è M√©t√©o
                **Nuageux** ‚Ä¢ 10,1¬∞C ‚Ä¢ 90%
                üíß 0 mm ‚Ä¢ üí® 14,00 km/h
              card_mod:
                style: |
                  ha-card {
                    background: transparent !important;
                    box-shadow: none !important;
                    border: none !important;
                    color: rgb(200, 200, 220);
                    font-size: 0.9em;
                  }

      # === Pi√®ces principales ===
      - type: custom:mod-card
        style: |
          ha-card {
            background: transparent !important;
            box-shadow: none !important;
            border: none !important;
          }
        card:
          type: grid
          columns: 2
          square: false
          cards:
            # Chambre Ewan
            - type: custom:button-card
              name: Chambre Ewan
              icon: mdi:bed
              entity: sensor.temp_chambre_ewan
              show_state: true
              state_display: |
                [[[ return `${entity.state}¬∞C` ]]]
              styles:
                card:
                  - background: rgba(60, 60, 60, 0.4)
                  - border-radius: 25px
                  - padding: 20px
                  - backdrop-filter: blur(12px)
                  - -webkit-backdrop-filter: blur(12px)
                  - box-shadow: 2px 3px 7px rgba(0, 0, 0, 0.6)
                  - border: 1px solid rgba(170, 170, 170, 0.2)
                  - min-height: 140px
                grid:
                  - grid-template-areas: '"i" "n" "s"'
                  - grid-template-rows: auto auto auto
                  - row-gap: 10px
                name:
                  - font-weight: 600
                  - font-size: 1rem
                  - color: rgb(200, 200, 200)
                icon:
                  - width: 36px
                  - color: rgb(100, 180, 255)
                state:
                  - font-size: 1.1rem
                  - font-weight: 700
                  - color: rgb(100, 180, 255)
              tap_action:
                action: navigate
                navigation_path: '#chambre_ewan'

            # Salon
            - type: custom:button-card
              name: Salon
              icon: mdi:sofa
              entity: sensor.temp_salon
              show_state: true
              state_display: |
                [[[ return `${entity.state || '17,7'}¬∞C` ]]]
              styles:
                card:
                  - background: rgba(60, 60, 60, 0.4)
                  - border-radius: 25px
                  - padding: 20px
                  - backdrop-filter: blur(12px)
                  - -webkit-backdrop-filter: blur(12px)
                  - box-shadow: 2px 3px 7px rgba(0, 0, 0, 0.6)
                  - border: 1px solid rgba(170, 170, 170, 0.2)
                  - min-height: 140px
                grid:
                  - grid-template-areas: '"i" "n" "s"'
                  - grid-template-rows: auto auto auto
                  - row-gap: 10px
                name:
                  - font-weight: 600
                  - font-size: 1rem
                  - color: rgb(200, 200, 200)
                icon:
                  - width: 36px
                  - color: rgb(100, 200, 150)
                state:
                  - font-size: 1.1rem
                  - font-weight: 700
                  - color: rgb(100, 200, 150)
              tap_action:
                action: navigate
                navigation_path: '#salon'

            # Cuisine
            - type: custom:button-card
              name: Cuisine
              icon: mdi:fridge
              entity: sensor.temp_cuisine
              show_state: true
              state_display: |
                [[[ return `${entity.state || '20,0'}¬∞C` ]]]
              styles:
                card:
                  - background: rgba(60, 60, 60, 0.4)
                  - border-radius: 25px
                  - padding: 20px
                  - backdrop-filter: blur(12px)
                  - -webkit-backdrop-filter: blur(12px)
                  - box-shadow: 2px 3px 7px rgba(0, 0, 0, 0.6)
                  - border: 1px solid rgba(170, 170, 170, 0.2)
                  - min-height: 140px
                grid:
                  - grid-template-areas: '"i" "n" "s"'
                  - grid-template-rows: auto auto auto
                  - row-gap: 10px
                name:
                  - font-weight: 600
                  - font-size: 1rem
                  - color: rgb(200, 200, 200)
                icon:
                  - width: 36px
                  - color: rgb(251, 191, 36)
                state:
                  - font-size: 1.1rem
                  - font-weight: 700
                  - color: rgb(251, 191, 36)
              tap_action:
                action: navigate
                navigation_path: '#cuisine'

            # Cumulus
            - type: custom:button-card
              name: Cumulus
              icon: mdi:water-boiler
              show_state: false
              custom_fields:
                info: |
                  [[[
                    return '<span>Voir d√©tails</span>';
                  ]]]
              styles:
                card:
                  - background: linear-gradient(135deg, rgba(6, 182, 212, 0.3), rgba(0, 150, 180, 0.2))
                  - border-radius: 25px
                  - padding: 20px
                  - backdrop-filter: blur(12px)
                  - -webkit-backdrop-filter: blur(12px)
                  - box-shadow: 2px 3px 7px rgba(0, 0, 0, 0.6)
                  - border: 1px solid rgba(170, 170, 170, 0.2)
                  - min-height: 140px
                grid:
                  - grid-template-areas: '"i" "n" "info"'
                  - grid-template-rows: auto auto auto
                  - row-gap: 10px
                name:
                  - font-weight: 600
                  - font-size: 1rem
                  - color: rgb(200, 200, 200)
                icon:
                  - width: 36px
                  - color: rgb(6, 182, 212)
                custom_fields:
                  info:
                    - font-size: 0.9rem
                    - color: rgb(200, 200, 200)
              tap_action:
                action: navigate
                navigation_path: /lovelace-mobile-iphone/cumulus

      # === Spacer pour navigation en bas ===
      - type: custom:mod-card
        style: |
          ha-card {
            height: 100px;
            background: none !important;
            box-shadow: none !important;
            border: none !important;
          }
        card:
          type: markdown
          content: " "

      # === Barre de navigation (fix√©e en bas) ===
      - type: custom:mushroom-chips-card
        chips:
          - type: template
            icon: mdi:home
            icon_color: cyan
            tap_action:
              action: navigate
              navigation_path: /lovelace-mobile-iphone/accueil
            card_mod:
              style: |
                ha-card {
                  background: rgba(6, 182, 212, 0.3) !important;
                  border-radius: 30px !important;
                  padding: 8px !important;
                  backdrop-filter: blur(12px) !important;
                  box-shadow: 2px 2px 6px rgba(0, 0, 0, 0.6) !important;
                }
          - type: spacer
          - type: template
            icon: mdi:shield
            tap_action:
              action: navigate
              navigation_path: /lovelace-mobile-iphone/alarme
            card_mod:
              style: |
                ha-card {
                  background: rgba(60, 60, 60, 0.4) !important;
                  border-radius: 30px !important;
                  padding: 8px !important;
                  backdrop-filter: blur(12px) !important;
                  box-shadow: 2px 2px 6px rgba(0, 0, 0, 0.6) !important;
                }
          - type: spacer
          - type: template
            icon: mdi:thermometer
            tap_action:
              action: navigate
              navigation_path: /lovelace-mobile-iphone/capteurs
            card_mod:
              style: |
                ha-card {
                  background: rgba(60, 60, 60, 0.4) !important;
                  border-radius: 30px !important;
                  padding: 8px !important;
                  backdrop-filter: blur(12px) !important;
                  box-shadow: 2px 2px 6px rgba(0, 0, 0, 0.6) !important;
                }
          - type: spacer
          - type: template
            icon: mdi:devices
            tap_action:
              action: navigate
              navigation_path: /lovelace-mobile-iphone/resume
            card_mod:
              style: |
                ha-card {
                  background: rgba(60, 60, 60, 0.4) !important;
                  border-radius: 30px !important;
                  padding: 8px !important;
                  backdrop-filter: blur(12px) !important;
                  box-shadow: 2px 2px 6px rgba(0, 0, 0, 0.6) !important;
                }
        card_mod:
          style: |
            ha-card {
              position: fixed;
              bottom: 25px;
              left: 50%;
              transform: translateX(-50%);
              width: calc(100% - 50px);
              max-width: 450px;
              background: rgba(40, 40, 40, 0.8) !important;
              border-radius: 30px !important;
              padding: 8px !important;
              backdrop-filter: blur(12px) !important;
              box-shadow: 2px 3px 9px rgba(0, 0, 0, 0.8) !important;
              z-index: 998 !important;
              border: 1px solid rgba(170, 170, 170, 0.3) !important;
            }

  # ========================================
  # VUE 1 : CUMULUS
  # ========================================
  - title: Cumulus
    path: cumulus
    icon: mdi:water-boiler
    panel: false
    cards:
      # === Header (m√™me que accueil) ===
      - type: custom:mod-card
        style: |
          ha-card {
            background: transparent !important;
            box-shadow: none !important;
            border: none !important;
            position: fixed;
            left: 50%;
            top: 12px;
            transform: translateX(-50%);
            width: calc(100% - 32px);
            max-width: 500px;
            z-index: 999;
          }
        card:
          type: horizontal-stack
          cards:
            - type: custom:button-card
              icon: mdi:arrow-left
              show_name: false
              tap_action:
                action: navigate
                navigation_path: /lovelace-mobile-iphone/accueil
              styles:
                card:
                  - background: rgba(60, 60, 60, 0.4)
                  - border-radius: 30px
                  - padding: 10px
                  - backdrop-filter: blur(12px)
                  - -webkit-backdrop-filter: blur(12px)
                  - box-shadow: 2px 3px 7px rgba(0, 0, 0, 0.6)
                  - border: none
                  - width: 50px
                  - height: 50px
                icon:
                  - color: rgb(200, 200, 200)
                  - width: 22px
            - type: custom:button-card
              color_type: blank-card
              styles:
                card:
                  - background: none
                  - box-shadow: none
                  - border: none
            - type: clock
              show_seconds: false
              card_mod:
                style: |
                  ha-card {
                    background: transparent !important;
                    box-shadow: none !important;
                    border: none !important;
                    color: rgb(255, 255, 255);
                    font-size: 1.2em;
                    font-weight: 600;
                    text-align: center;
                  }
            - type: custom:button-card
              color_type: blank-card
              styles:
                card:
                  - background: none
                  - box-shadow: none
                  - border: none
            - type: custom:button-card
              show_name: true
              name: "(( SOS ))"
              tap_action:
                action: navigate
                navigation_path: /lovelace-mobile-iphone/urgence
              styles:
                card:
                  - background-color: rgba(255, 0, 0, 0.4)
                  - border-radius: 40px
                  - padding: 8px 12px
                  - backdrop-filter: blur(5px)
                  - box-shadow: 2px 2px 9px rgba(0,0,0,0.8)
                  - width: fit-content
                  - height: 50px
                name:
                  - font-size: 12px
                  - color: white
                  - font-weight: 700

      # === Spacer ===
      - type: custom:mod-card
        style: |
          ha-card {
            height: 70px;
            background: none !important;
            box-shadow: none !important;
            border: none !important;
          }
        card:
          type: markdown
          content: " "

      # === Carte Cumulus (adapt√©e pour mobile) ===
      - type: custom:mod-card
        style: |
          ha-card {
            background: rgba(60, 60, 60, 0.4) !important;
            border-radius: 30px !important;
            padding: 16px !important;
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            box-shadow: 2px 3px 7px rgba(0, 0, 0, 0.6);
            border: 1px solid rgba(170, 170, 170, 0.2) !important;
          }
        card:
          type: vertical-stack
          cards:
            # Titre
            - type: markdown
              content: |
                ### üíß CUMULUS INTELLIGENT
              card_mod:
                style: |
                  ha-card {
                    background: transparent !important;
                    box-shadow: none !important;
                    border: none !important;
                    color: rgb(6, 182, 212);
                    font-weight: 700;
                    text-align: center;
                    padding: 0 !important;
                    margin-bottom: 10px;
                  }

            # Statut & Besoin
            - type: horizontal-stack
              cards:
                - type: custom:button-card
                  entity: switch.shellypro1_ece334ee1b64
                  name: STATUT
                  show_state: false
                  show_icon: true
                  icon: |
                    [[[
                      if (entity.state === 'on') return 'mdi:fire';
                      return 'mdi:power-off';
                    ]]]
                  custom_fields:
                    info: |
                      [[[
                        return entity.state === 'on' ? '<span>üî• ON</span>' : '<span>üí§ OFF</span>';
                      ]]]
                  styles:
                    card:
                      - min-height: 90px
                      - border-radius: 20px
                      - padding: 10px
                      - background: |
                          [[[
                            return entity.state === 'on'
                              ? 'linear-gradient(135deg, rgba(255, 70, 0, 0.3), rgba(255, 140, 0, 0.2))'
                              : 'rgba(60, 60, 60, 0.4)';
                          ]]]
                      - backdrop-filter: blur(6px)
                      - -webkit-backdrop-filter: blur(12px)
                      - box-shadow: 2px 1px 6px rgba(0, 0, 0, 0.6)
                    grid:
                      - grid-template-areas: '"i" "n" "info"'
                      - grid-template-rows: auto auto auto
                      - row-gap: 6px
                    name:
                      - font-weight: 600
                      - font-size: 0.8rem
                      - color: rgb(200, 200, 200)
                    icon:
                      - width: 28px
                      - color: |
                          [[[
                            return entity.state === 'on' ? '#ff4500' : '#94a3b8';
                          ]]]
                    custom_fields:
                      info:
                        - font-size: 0.8rem
                        - color: rgb(200, 200, 200)

                - type: custom:button-card
                  entity: binary_sensor.cumulus_besoin_chauffe_urgente
                  name: ECS
                  show_state: false
                  show_icon: true
                  icon: |
                    [[[
                      return entity.state === 'on' ? 'mdi:alert-circle' : 'mdi:check-circle';
                    ]]]
                  custom_fields:
                    info: |
                      [[[
                        const temp = states['sensor.cumulus_temperature_physique_c'].state || '52';
                        return entity.state === 'on'
                          ? `<span>‚ö†Ô∏è URGENT</span>`
                          : `<span>‚úÖ ${temp}¬∞C</span>`;
                      ]]]
                  styles:
                    card:
                      - min-height: 90px
                      - border-radius: 20px
                      - padding: 10px
                      - background: |
                          [[[
                            return entity.state === 'on'
                              ? 'linear-gradient(135deg, rgba(239, 68, 68, 0.3), rgba(255, 140, 0, 0.2))'
                              : 'linear-gradient(135deg, rgba(34, 197, 94, 0.3), rgba(0, 180, 100, 0.2))';
                          ]]]
                      - backdrop-filter: blur(6px)
                      - -webkit-backdrop-filter: blur(12px)
                      - box-shadow: 2px 1px 6px rgba(0, 0, 0, 0.6)
                    grid:
                      - grid-template-areas: '"i" "n" "info"'
                      - grid-template-rows: auto auto auto
                      - row-gap: 6px
                    name:
                      - font-weight: 600
                      - font-size: 0.8rem
                      - color: rgb(200, 200, 200)
                    icon:
                      - width: 28px
                      - color: |
                          [[[
                            return entity.state === 'on' ? '#ef4444' : '#22c55e';
                          ]]]
                    custom_fields:
                      info:
                        - font-size: 0.8rem
                        - color: rgb(200, 200, 200)

            # Production PV & Temps restant
            - type: horizontal-stack
              cards:
                - type: custom:button-card
                  entity: sensor.cumulus_pv_power_w
                  name: PRODUCTION PV
                  show_state: false
                  show_icon: true
                  icon: mdi:solar-power-variant
                  custom_fields:
                    info: |
                      [[[
                        const pv = parseFloat(entity.state) || 0;
                        return `<span>${Math.round(pv)} W</span>`;
                      ]]]
                  styles:
                    card:
                      - min-height: 80px
                      - border-radius: 20px
                      - padding: 10px
                      - background: linear-gradient(135deg, rgba(251, 191, 36, 0.3), rgba(255, 200, 0, 0.2))
                      - backdrop-filter: blur(6px)
                      - -webkit-backdrop-filter: blur(12px)
                      - box-shadow: 2px 1px 6px rgba(0, 0, 0, 0.6)
                    grid:
                      - grid-template-areas: '"i" "n" "info"'
                      - grid-template-rows: auto auto auto
                      - row-gap: 4px
                    name:
                      - font-weight: 600
                      - font-size: 0.75rem
                      - color: rgb(200, 200, 200)
                    icon:
                      - width: 24px
                      - color: '#fbbf24'
                    custom_fields:
                      info:
                        - font-size: 1rem
                        - font-weight: 700
                        - color: rgb(251, 191, 36)

                - type: custom:button-card
                  entity: sensor.cumulus_temps_restant_fenetre_pv_h
                  name: TEMPS RESTANT PV
                  show_state: false
                  show_icon: true
                  icon: mdi:timer-sand
                  custom_fields:
                    info: |
                      [[[
                        const temps = parseFloat(entity.state) || 0;
                        return `<span>${temps.toFixed(1)} h</span>`;
                      ]]]
                  styles:
                    card:
                      - min-height: 80px
                      - border-radius: 20px
                      - padding: 10px
                      - background: |
                          [[[
                            const temps = parseFloat(entity.state) || 0;
                            if (temps > 3) return 'linear-gradient(135deg, rgba(34, 197, 94, 0.3), rgba(0, 180, 100, 0.2))';
                            if (temps > 1) return 'linear-gradient(135deg, rgba(251, 191, 36, 0.3), rgba(255, 200, 0, 0.2))';
                            return 'rgba(60, 60, 60, 0.4)';
                          ]]]
                      - backdrop-filter: blur(6px)
                      - -webkit-backdrop-filter: blur(12px)
                      - box-shadow: 2px 1px 6px rgba(0, 0, 0, 0.6)
                    grid:
                      - grid-template-areas: '"i" "n" "info"'
                      - grid-template-rows: auto auto auto
                      - row-gap: 4px
                    name:
                      - font-weight: 600
                      - font-size: 0.75rem
                      - color: rgb(200, 200, 200)
                    icon:
                      - width: 24px
                      - color: |
                          [[[
                            const temps = parseFloat(entity.state) || 0;
                            if (temps > 3) return '#22c55e';
                            if (temps > 1) return '#fbbf24';
                            return '#94a3b8';
                          ]]]
                    custom_fields:
                      info:
                        - font-size: 1rem
                        - font-weight: 700
                        - color: |
                            [[[
                              const temps = parseFloat(entity.state) || 0;
                              if (temps > 3) return 'rgb(34, 197, 94)';
                              if (temps > 1) return 'rgb(251, 191, 36)';
                              return 'rgb(148, 163, 184)';
                            ]]]

            # Titre Contr√¥les
            - type: markdown
              content: |
                ### üéõÔ∏è CONTR√îLES
              card_mod:
                style: |
                  ha-card {
                    background: transparent !important;
                    box-shadow: none !important;
                    border: none !important;
                    color: rgb(59, 130, 246);
                    font-weight: 600;
                    text-align: center;
                    padding: 10px 0 0 0 !important;
                    margin: 0 !important;
                    font-size: 0.95em;
                  }

            # Contr√¥les - Ligne 1
            - type: horizontal-stack
              cards:
                - type: custom:button-card
                  entity: input_boolean.cumulus_override
                  name: FORCER
                  show_state: false
                  show_icon: true
                  icon: mdi:hand-pointing-up
                  styles:
                    card:
                      - min-height: 70px
                      - border-radius: 18px
                      - padding: 8px
                      - background: |
                          [[[
                            return entity.state === 'on'
                              ? 'linear-gradient(135deg, rgba(239, 68, 68, 0.35), rgba(255, 70, 0, 0.25))'
                              : 'rgba(60, 60, 60, 0.4)';
                          ]]]
                      - backdrop-filter: blur(6px)
                      - -webkit-backdrop-filter: blur(12px)
                      - box-shadow: 2px 1px 6px rgba(0, 0, 0, 0.6)
                    grid:
                      - grid-template-areas: '"i" "n"'
                      - grid-template-rows: auto auto
                      - row-gap: 6px
                    name:
                      - font-weight: 600
                      - font-size: 0.75rem
                      - color: rgb(200, 200, 200)
                    icon:
                      - width: 24px
                      - color: |
                          [[[
                            return entity.state === 'on' ? '#ef4444' : '#94a3b8';
                          ]]]
                  tap_action:
                    action: toggle

                - type: custom:button-card
                  entity: input_boolean.cumulus_interdit
                  name: INTERDIT
                  show_state: false
                  show_icon: true
                  icon: mdi:cancel
                  styles:
                    card:
                      - min-height: 70px
                      - border-radius: 18px
                      - padding: 8px
                      - background: |
                          [[[
                            return entity.state === 'on'
                              ? 'linear-gradient(135deg, rgba(239, 68, 68, 0.35), rgba(255, 70, 0, 0.25))'
                              : 'rgba(60, 60, 60, 0.4)';
                          ]]]
                      - backdrop-filter: blur(6px)
                      - -webkit-backdrop-filter: blur(12px)
                      - box-shadow: 2px 1px 6px rgba(0, 0, 0, 0.6)
                    grid:
                      - grid-template-areas: '"i" "n"'
                      - grid-template-rows: auto auto
                      - row-gap: 6px
                    name:
                      - font-weight: 600
                      - font-size: 0.75rem
                      - color: rgb(200, 200, 200)
                    icon:
                      - width: 24px
                      - color: |
                          [[[
                            return entity.state === 'on' ? '#ef4444' : '#94a3b8';
                          ]]]
                  tap_action:
                    action: toggle

                - type: custom:button-card
                  entity: input_boolean.cumulus_vacances
                  name: VACANCES
                  show_state: false
                  show_icon: true
                  icon: mdi:beach
                  styles:
                    card:
                      - min-height: 70px
                      - border-radius: 18px
                      - padding: 8px
                      - background: |
                          [[[
                            return entity.state === 'on'
                              ? 'linear-gradient(135deg, rgba(251, 191, 36, 0.35), rgba(255, 200, 0, 0.25))'
                              : 'rgba(60, 60, 60, 0.4)';
                          ]]]
                      - backdrop-filter: blur(6px)
                      - -webkit-backdrop-filter: blur(12px)
                      - box-shadow: 2px 1px 6px rgba(0, 0, 0, 0.6)
                    grid:
                      - grid-template-areas: '"i" "n"'
                      - grid-template-rows: auto auto
                      - row-gap: 6px
                    name:
                      - font-weight: 600
                      - font-size: 0.75rem
                      - color: rgb(200, 200, 200)
                    icon:
                      - width: 24px
                      - color: |
                          [[[
                            return entity.state === 'on' ? '#fbbf24' : '#94a3b8';
                          ]]]
                  tap_action:
                    action: toggle

            # Contr√¥les - Ligne 2
            - type: horizontal-stack
              cards:
                - type: custom:button-card
                  entity: input_boolean.cumulus_meteo_favorisee
                  name: M√âT√âOFORIS√âES
                  show_state: false
                  show_icon: true
                  icon: mdi:weather-sunny
                  styles:
                    card:
                      - min-height: 70px
                      - border-radius: 18px
                      - padding: 8px
                      - background: |
                          [[[
                            return entity.state === 'on'
                              ? 'linear-gradient(135deg, rgba(59, 130, 246, 0.35), rgba(0, 150, 255, 0.25))'
                              : 'rgba(60, 60, 60, 0.4)';
                          ]]]
                      - backdrop-filter: blur(6px)
                      - -webkit-backdrop-filter: blur(12px)
                      - box-shadow: 2px 1px 6px rgba(0, 0, 0, 0.6)
                    grid:
                      - grid-template-areas: '"i" "n"'
                      - grid-template-rows: auto auto
                      - row-gap: 6px
                    name:
                      - font-weight: 600
                      - font-size: 0.7rem
                      - color: rgb(200, 200, 200)
                    icon:
                      - width: 24px
                      - color: |
                          [[[
                            return entity.state === 'on' ? '#3b82f6' : '#94a3b8';
                          ]]]
                  tap_action:
                    action: toggle

                - type: custom:button-card
                  entity: input_boolean.cumulus_verrou_jour
                  name: VERSION JOUR
                  show_state: false
                  show_icon: true
                  icon: mdi:lock-check
                  styles:
                    card:
                      - min-height: 70px
                      - border-radius: 18px
                      - padding: 8px
                      - background: |
                          [[[
                            return entity.state === 'on'
                              ? 'linear-gradient(135deg, rgba(34, 197, 94, 0.3), rgba(0, 180, 100, 0.2))'
                              : 'rgba(60, 60, 60, 0.4)';
                          ]]]
                      - backdrop-filter: blur(6px)
                      - -webkit-backdrop-filter: blur(12px)
                      - box-shadow: 2px 1px 6px rgba(0, 0, 0, 0.6)
                    grid:
                      - grid-template-areas: '"i" "n"'
                      - grid-template-rows: auto auto
                      - row-gap: 6px
                    name:
                      - font-weight: 600
                      - font-size: 0.7rem
                      - color: rgb(200, 200, 200)
                    icon:
                      - width: 24px
                      - color: |
                          [[[
                            return entity.state === 'on' ? '#22c55e' : '#fbbf24';
                          ]]]
                  tap_action:
                    action: none

                - type: custom:button-card
                  entity: input_boolean.temp_atteinte_aujourdhui
                  name: TEMP OK
                  show_state: false
                  show_icon: true
                  icon: mdi:thermometer-check
                  styles:
                    card:
                      - min-height: 70px
                      - border-radius: 18px
                      - padding: 8px
                      - background: |
                          [[[
                            return entity.state === 'on'
                              ? 'linear-gradient(135deg, rgba(34, 197, 94, 0.35), rgba(0, 180, 100, 0.25))'
                              : 'rgba(60, 60, 60, 0.4)';
                          ]]]
                      - backdrop-filter: blur(6px)
                      - -webkit-backdrop-filter: blur(12px)
                      - box-shadow: 2px 1px 6px rgba(0, 0, 0, 0.6)
                    grid:
                      - grid-template-areas: '"i" "n"'
                      - grid-template-rows: auto auto
                      - row-gap: 6px
                    name:
                      - font-weight: 600
                      - font-size: 0.75rem
                      - color: rgb(200, 200, 200)
                    icon:
                      - width: 24px
                      - color: |
                          [[[
                            return entity.state === 'on' ? '#22c55e' : '#94a3b8';
                          ]]]
                  tap_action:
                    action: none

            # Titre Pr√©visions
            - type: markdown
              content: |
                ### ‚òÄÔ∏è PR√âVISIONS SOLAIRES
              card_mod:
                style: |
                  ha-card {
                    background: transparent !important;
                    box-shadow: none !important;
                    border: none !important;
                    color: rgb(251, 191, 36);
                    font-weight: 600;
                    text-align: center;
                    padding: 10px 0 0 0 !important;
                    margin: 0 !important;
                    font-size: 0.95em;
                  }

            # Pr√©visions solaires
            - type: horizontal-stack
              cards:
                - type: custom:button-card
                  entity: sensor.cumulus_solcast_forecast_today
                  name: AUJOURD'HUI
                  show_state: false
                  show_icon: true
                  icon: mdi:weather-sunny
                  custom_fields:
                    info: |
                      [[[
                        return `<span>${entity.state || '2.1472'} kWh</span>`;
                      ]]]
                  styles:
                    card:
                      - min-height: 80px
                      - border-radius: 20px
                      - padding: 10px
                      - background: rgba(60, 60, 60, 0.4)
                      - backdrop-filter: blur(6px)
                      - -webkit-backdrop-filter: blur(12px)
                      - box-shadow: 2px 1px 6px rgba(0, 0, 0, 0.6)
                    grid:
                      - grid-template-areas: '"i" "n" "info"'
                      - grid-template-rows: auto auto auto
                      - row-gap: 4px
                    name:
                      - font-weight: 600
                      - font-size: 0.75rem
                      - color: rgb(200, 200, 200)
                    icon:
                      - width: 24px
                      - color: '#94a3b8'
                    custom_fields:
                      info:
                        - font-size: 1rem
                        - font-weight: 700
                        - color: rgb(148, 163, 184)

                - type: custom:button-card
                  entity: sensor.cumulus_solcast_forecast_tomorrow
                  name: DEMAIN
                  show_state: false
                  show_icon: true
                  icon: mdi:weather-sunny-alert
                  custom_fields:
                    info: |
                      [[[
                        return `<span>${entity.state || '9.3591'} kWh</span>`;
                      ]]]
                  styles:
                    card:
                      - min-height: 80px
                      - border-radius: 20px
                      - padding: 10px
                      - background: linear-gradient(135deg, rgba(251, 191, 36, 0.35), rgba(255, 200, 0, 0.25))
                      - backdrop-filter: blur(6px)
                      - -webkit-backdrop-filter: blur(12px)
                      - box-shadow: 2px 1px 6px rgba(0, 0, 0, 0.6)
                    grid:
                      - grid-template-areas: '"i" "n" "info"'
                      - grid-template-rows: auto auto auto
                      - row-gap: 4px
                    name:
                      - font-weight: 600
                      - font-size: 0.75rem
                      - color: rgb(200, 200, 200)
                    icon:
                      - width: 24px
                      - color: '#fbbf24'
                    custom_fields:
                      info:
                        - font-size: 1rem
                        - font-weight: 700
                        - color: rgb(251, 191, 36)

      # === Spacer pour navigation en bas ===
      - type: custom:mod-card
        style: |
          ha-card {
            height: 100px;
            background: none !important;
            box-shadow: none !important;
            border: none !important;
          }
        card:
          type: markdown
          content: " "

      # === Barre de navigation ===
      - type: custom:mushroom-chips-card
        chips:
          - type: template
            icon: mdi:home
            tap_action:
              action: navigate
              navigation_path: /lovelace-mobile-iphone/accueil
            card_mod:
              style: |
                ha-card {
                  background: rgba(60, 60, 60, 0.4) !important;
                  border-radius: 30px !important;
                  padding: 8px !important;
                  backdrop-filter: blur(12px) !important;
                  box-shadow: 2px 2px 6px rgba(0, 0, 0, 0.6) !important;
                }
          - type: spacer
          - type: template
            icon: mdi:shield
            tap_action:
              action: navigate
              navigation_path: /lovelace-mobile-iphone/alarme
            card_mod:
              style: |
                ha-card {
                  background: rgba(60, 60, 60, 0.4) !important;
                  border-radius: 30px !important;
                  padding: 8px !important;
                  backdrop-filter: blur(12px) !important;
                  box-shadow: 2px 2px 6px rgba(0, 0, 0, 0.6) !important;
                }
          - type: spacer
          - type: template
            icon: mdi:thermometer
            tap_action:
              action: navigate
              navigation_path: /lovelace-mobile-iphone/capteurs
            card_mod:
              style: |
                ha-card {
                  background: rgba(60, 60, 60, 0.4) !important;
                  border-radius: 30px !important;
                  padding: 8px !important;
                  backdrop-filter: blur(12px) !important;
                  box-shadow: 2px 2px 6px rgba(0, 0, 0, 0.6) !important;
                }
          - type: spacer
          - type: template
            icon: mdi:devices
            tap_action:
              action: navigate
              navigation_path: /lovelace-mobile-iphone/resume
            card_mod:
              style: |
                ha-card {
                  background: rgba(60, 60, 60, 0.4) !important;
                  border-radius: 30px !important;
                  padding: 8px !important;
                  backdrop-filter: blur(12px) !important;
                  box-shadow: 2px 2px 6px rgba(0, 0, 0, 0.6) !important;
                }
        card_mod:
          style: |
            ha-card {
              position: fixed;
              bottom: 25px;
              left: 50%;
              transform: translateX(-50%);
              width: calc(100% - 50px);
              max-width: 450px;
              background: rgba(40, 40, 40, 0.8) !important;
              border-radius: 30px !important;
              padding: 8px !important;
              backdrop-filter: blur(12px) !important;
              box-shadow: 2px 3px 9px rgba(0, 0, 0, 0.8) !important;
              z-index: 998 !important;
              border: 1px solid rgba(170, 170, 170, 0.3) !important;
            }

  # === AUTRES VUES (Alarme, Capteurs, R√©sum√©) - √Ä compl√©ter ===
  # Pour gagner du temps, je vais cr√©er des vues basiques que vous pourrez enrichir

  - title: Alarme
    path: alarme
    icon: mdi:shield
    cards:
      - type: markdown
        content: |
          # üõ°Ô∏è Alarme
          (Vue √† personnaliser)

  - title: Capteurs
    path: capteurs
    icon: mdi:thermometer
    cards:
      - type: markdown
        content: |
          # üå°Ô∏è Capteurs
          (Vue √† personnaliser)

  - title: R√©sum√©
    path: resume
    icon: mdi:devices
    cards:
      - type: markdown
        content: |
          # üì± R√©sum√©
          (Vue √† personnaliser)
